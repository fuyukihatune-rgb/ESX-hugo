+++
title = "Androidスマホからhugoを管理・更新する方法"
date = 2025-09-25
draft = false
categories = ["tech"]
+++

この記事は4年前に書いた記事を大幅に加筆修正したもです。原版はこちら

## AndroidデバイスでHugoサイトを管理・更新する

このガイドでは、AndroidスマートフォンやタブレットからHugoで構築されたウェブサイトを効率的に管理・更新する方法を解説します。外出先やPCが手元にない状況でも、TermuxとGitを活用することで、あなたのHugoサイトを最新の状態に保つことができます。

GitHub PagesなどのGitベースのホスティングサービスを利用していることを前提とし、すでにHugoプロジェクトが作成済みであることを想定しています。

### 1. Termuxのセットアップ

まず、Androidデバイスに強力なターミナルエミュレータである[Termux](https://termux.com/)をインストールします。Google PlayストアまたはF-Droidから入手可能です。

インストール後、Termuxを開き、以下のコマンドでパッケージリストを更新し、必要なツールをインストールします。

```sh
pkg update && pkg upgrade
pkg install git openssh hugo
```

これで、Git、SSHクライアント、そしてHugo本体が利用可能になります。

### 2. Gitの初期設定

Gitを使用する前に、ユーザー名とメールアドレスを設定します。これはコミット履歴に表示される情報です。

```bash
$ git config --global user.name "あなたの名前"
$ git config --global user.email "あなたのメールアドレス"
```

`"あなたの名前"`と`"あなたのメールアドレス"`は、ご自身の情報に置き換えてください。

### 3. SSHキーの生成とGitHubへの登録

GitHubなどのリモートリポジトリと安全に通信するために、SSHキーペアを作成します。現代のセキュリティ基準に準拠するため、楕円曲線暗号を用いた`ed25519`形式を推奨します。

```bash
$ cd ~/.ssh
$ ssh-keygen -t ed25519 -C "あなたのメールアドレス"
```

コマンド実行後、鍵の保存先やパスフレーズの入力を求められますが、基本的にはデフォルトのままで問題ありません。セキュリティ向上のため、パスフレーズの設定を強くお勧めします。

生成された`id_ed25519`（秘密鍵）と`id_ed25519.pub`（公開鍵）のうち、**秘密鍵は絶対に他者に公開しないでください。**

`cat ~/.ssh/id_ed25519.pub`コマンドで公開鍵の内容を表示し、これをコピーします。その後、GitHubの設定ページ（"SSH and GPG keys"セクション）に移動し、「New SSH key」ボタンから新しいSSHキーとして登録してください。Titleには任意の識別しやすい名前を付け、Key欄にコピーした公開鍵を貼り付けます。

SSHキーが正しく設定されたかを確認するには、以下のコマンドを実行します。

```
$ ssh -T git@github.com
```
`Hi [あなたのGitHubユーザー名]! You've successfully authenticated, but GitHub does not provide shell access.` のようなメッセージが表示されれば成功です。

### 4. Hugoプロジェクトのクローン

GitHub上のHugoプロジェクトをTermux環境にクローンします。

```
$ git clone git@github.com:/[GitHubユーザー名]/[リポジトリ名].git
```

`[GitHubユーザー名]`と`[リポジトリ名]`は、ご自身のプロジェクト情報に置き換えてください。

クローンが完了したら、プロジェクトディレクトリに移動します。

```bash
$ ls
[リポジトリ名]
$ cd [リポジトリ名]
```

### 5. サイトのプレビューと編集

これで、Androidデバイス上でHugoサイトの管理準備が整いました。

サイトをローカルでプレビューするには、プロジェクトディレクトリ内で以下のコマンドを実行します。

```bash
$ hugo server
```
Termuxの通知に表示されるURL（通常は`http://localhost:1313`）をAndroidのブラウザで開くと、サイトのプレビューを確認できます。

コンテンツの編集には、Termuxの`vi`や`nano`といったテキストエディタも利用できますが、より快適な編集環境のために、Termuxにストレージへのアクセス許可を与え、お好みのAndroid用マークダウンエディタを使用することをお勧めします。

```bash
termux-setup-storage
```
このコマンドを実行すると、TermuxがAndroidの共有ストレージにアクセスできるようになり、ファイルマネージャー経由でHugoプロジェクトのマークダウンファイルを直接編集できるようになります。

### 6. 変更のコミットとプッシュ

コンテンツを編集し、変更をリモートリポジトリに反映させるには、以下のGitコマンドを使用します。

```bash
$ git add .
$ git commit -m "feat: 新しい記事を追加" # 変更内容に応じたコミットメッセージ
$ git push origin main # またはあなたのブランチ名
```

これで、AndroidデバイスからあなたのHugoサイトを更新する一連のプロセスが完了です。

---

このガイドが、Androidデバイスでの柔軟なウェブサイト管理の一助となれば幸いです。